<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bit7z: bit7z</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<style>
    div.header {
        text-align: center;
    }
    html {
      /* Make sure sidebar is wide enough to contain the project description */
      --side-nav-fixed-width: 360px;
    }
    #searchBoxPos2 {
      margin-right: 50px !important;  
    }
</style>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/rikyoz/bit7z" class="github-corner" title="View source on GitHub" target="_blank" aria-label="View source on GitHub">
<svg width="80" height="80" viewBox="0 0 250 250" style="fill:var(--primary-color); color:var(--page-background-color); position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
</svg>
</a>
<style>
.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bit7z<span id="projectnumber">&#160;4.0.9</span>
   </div>
   <div id="projectbrief">A C++ library for interfacing with the 7-zip shared libs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_build_2msvc_2debug_2docs_2_home"></a></p>
<h3 align="center">A C++ static library offering a clean and simple interface to the 7-Zip shared libraries.</h3>
<div align="center"> <a href="https://github.com/rikyoz/bit7z/releases" title="Latest Stable GitHub Release"><img src="https://img.shields.io/github/release/rikyoz/bit7z/all.svg?style=flat&amp;logo=github&amp;logoColor=white&amp;colorB=blue&amp;label=" alt="GitHub release" style="pointer-events: none;" class="inline"/></a>&thinsp;<img src="https://img.shields.io/badge/-C++14-3F63B3.svg?style=flat&amp;logo=C%2B%2B&amp;logoColor=white" alt="C++14" style="pointer-events: none;" title="C++ Standards Used: C++14" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/-Windows-6E46A2.svg?style=flat&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODc1IDQ4NzUiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMjMxMXYyMzEwSDB6bTI1NjQgMGgyMzExdjIzMTBIMjU2NHpNMCAyNTY0aDIzMTF2MjMxMUgwem0yNTY0IDBoMjMxMXYyMzExSDI1NjQiLz48L3N2Zz4=&amp;logoColor=white" alt="Windows" style="pointer-events: none;" title="Supported Platform: Windows" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/-Linux-ad3a90.svg?style=flat&amp;logo=linux&amp;logoColor=white" alt="Linux" style="pointer-events: none;" title="Supported Platform: Linux" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/-macOS-d43d6c.svg?style=flat&amp;logo=apple&amp;logoColor=white" alt="macOS" style="pointer-events: none;" title="Supported Platform: macOS" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/-BSD-red.svg?style=flat&amp;logo=freebsd&amp;logoColor=white" alt="BSD" style="pointer-events: none;" title="Supported Platform: BSD" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/-x86%20&middot;%20x64%20&middot;%20arm%20&middot;%20arm64-orange.svg?style=flat&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA5NDIgOTQyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNTc5LjEgODk0YTQ4IDQ4IDAgMCAwIDk2IDB2LTc3LjVoLTk1LjlWODk0aC0uMXpNNTc5LjEgNDh2NzcuNUg2NzVWNDhhNDggNDggMCAwIDAtOTUuOSAwek00MjMgNDh2NzcuNWg5NlY0OGE0OCA0OCAwIDAgMC05NiAwek00MjMgODk0YTQ4IDQ4IDAgMCAwIDk2IDB2LTc3LjVoLTk2Vjg5NHpNMjY3IDQ4djc3LjVoOTUuOVY0OGE0OCA0OCAwIDAgMC05NS45IDB6TTI2NyA4OTRhNDggNDggMCAwIDAgOTYgMHYtNzcuNWgtOTZWODk0ek0wIDYyN2E0OCA0OCAwIDAgMCA0OCA0OGg3Ny41di05NS45SDQ4QTQ4IDQ4IDAgMCAwIDAgNjI3ek04OTQgNTc5LjFoLTc3LjVWNjc1SDg5NGE0OCA0OCAwIDAgMCAwLTk1Ljl6TTAgNDcxYTQ4IDQ4IDAgMCAwIDQ4IDQ4aDc3LjV2LTk2SDQ4YTQ4IDQ4IDAgMCAwLTQ4IDQ4ek04OTQgNDIzaC03Ny41djk2SDg5NGE0OCA0OCAwIDAgMCAwLTk2ek0wIDMxNWE0OCA0OCAwIDAgMCA0OCA0OGg3Ny41di05Nkg0OGE0OCA0OCAwIDAgMC00OCA0OHpNODk0IDI2N2gtNzcuNXY5NS45SDg5NGE0OCA0OCAwIDAgMCAwLTk1Ljl6TTE3MS42IDcyMC40YTUwIDUwIDAgMCAwIDUwIDUwaDQ5OC44YTUwIDUwIDAgMCAwIDUwLTUwVjIyMS42YTUwIDUwIDAgMCAwLTUwLTUwSDIyMS42YTUwIDUwIDAgMCAwLTUwIDUwdjQ5OC44eiIvPjwvc3ZnPg==" alt="x86, x64, arm, arm64" style="pointer-events: none;" title="Supported CPU Architectures: x86, x64, arm, arm64" class="inline"/>&thinsp;<a href="#%EF%B8%8F-donate" title="Donate"><img src="https://img.shields.io/badge/-donate-yellow.svg?style=flat&amp;logo=paypal&amp;logoColor=white" alt="donate" style="pointer-events: none;" class="inline"/></a>&thinsp;<a href="https://github.com/rikyoz/bit7z/wiki" title="Project Documentation"><img src="https://img.shields.io/badge/-docs-green.svg?style=flat&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtbmFtZT0iTGF5ZXIgMSIgdmlld0JveD0iMCAwIDEwNS4zIDEyMi45Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNmZmYiIGQ9Ik0xNy41IDBIMTAydjk0LjJjLS4xIDIuNy0zLjUgMi43LTcuMiAyLjZIMTYuM2E5LjIgOS4yIDAgMCAwIDAgMTguNEg5OHYtOS44aDcuMlYxMThhNC4yIDQuMiAwIDAgMS00LjEgNC4xSDE2LjZDNy41IDEyNS41IDAgMTE4IDAgMTA4LjhWMTcuNUExNy42IDE3LjYgMCAwIDEgMTcuNSAwWm0tMS4zIDEwOGg3NS4yYTEuNCAxLjQgMCAwIDEgMS40IDEuM3YuOGExLjQgMS40IDAgMCAxLTEuNCAxLjRIMTYuMmExLjQgMS40IDAgMCAxLTEuMy0xLjR2LS44YTEuNCAxLjQgMCAwIDEgMS4zLTEuNFptMC03LjJoNzUuMmExLjQgMS40IDAgMCAxIDEuNCAxLjR2LjhhMS40IDEuNCAwIDAgMS0xLjQgMS40SDE2LjJBMS40IDEuNCAwIDAgMSAxNSAxMDN2LS44YTEuNCAxLjQgMCAwIDEgMS4zLTEuNFoiLz48L3N2Zz4=" alt="docs" style="pointer-events: none;" class="inline"/></a>&thinsp;<a href="https://ci.appveyor.com/project/rikyoz/bit7z" title="AppVeyor CI Build Status"><img src="https://img.shields.io/appveyor/ci/rikyoz/bit7z.svg?style=flat&amp;logo=appveyor&amp;logoColor=white&amp;label=" alt="Build status" style="pointer-events: none;" class="inline"/></a> <br  />
 <img src="https://img.shields.io/badge/MSVC%202015+-flag.svg?color=555555&amp;style=flat&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTIxIDQtNC0yYTEgMSAwIDAgMC0xIDBsLTggOC00LTNhMSAxIDAgMCAwLTEgMEwyIDhhMSAxIDAgMCAwIDAgMWwzIDMtMyAzYTEgMSAwIDAgMCAwIDFsMSAxYTEgMSAwIDAgMCAxIDBsNC0zIDggOGExIDEgMCAwIDAgMSAwbDQtMmExIDEgMCAwIDAgMS0xVjVhMSAxIDAgMCAwLTEtMXptLTQgMTItNi00IDYtNXoiLz48L3N2Zz4=&amp;logoColor=white" alt="MSVC 2015+" style="pointer-events: none;" title="Supported Windows Compiler: MSVC 2015 or later" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/MinGW%206.4+%20-flag.svg?color=555555&amp;style=flat&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMzIgMTMyIj48cGF0aCBmaWxsPSIjY2NjIiBkPSJtMCA1MiAyMy0yNCAyNCAyNC0yNCAyM3ptMCA1OCAyMy0yNCAyNCAyNC0yNCAyM3oiLz48cGF0aCBmaWxsPSIjN2Q3ZDdkIiBkPSJtMjkgODEgMjMtMjQgMjQgMjQtMjQgMjN6bS0xLTU4TDUyIDBsMjMgMjMtMjMgMjR6Ii8+PHBhdGggZmlsbD0iI2NjYyIgZD0ibTU3IDUyIDI0LTIzIDIzIDIzLTIzIDI0eiIvPjxwYXRoIGZpbGw9IiM3ZDdkN2QiIGQ9Im04NiAyMyAyNC0yMyAyMyAyMy0yMyAyNHoiLz48cGF0aCBmaWxsPSIjY2NjIiBkPSJtNTcgMTA5IDI0LTIzIDIzIDIzLTIzIDIzeiIvPjxwYXRoIGZpbGw9IiM3ZDdkN2QiIGQ9Im04NiA4MSAyMy0yNCAyMyAyNC0yMyAyM3oiLz48L3N2Zz4=&amp;logoColor=white" alt="" style="pointer-events: none;" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/GCC%204.9+-flag.svg?color=555555&amp;style=flat&amp;logo=gnu&amp;logoColor=white" alt="GCC 4.9+" style="pointer-events: none;" title="Supported Unix Compiler: GCC 4.9 or later" class="inline"/>&thinsp;<img src="https://img.shields.io/badge/Clang%203.6+-flag.svg?color=555555&amp;style=flat&amp;logo=llvm&amp;logoColor=white" alt="Clang 3.6+" style="pointer-events: none;" title="Supported Unix Compiler: Clang 3.5 or later" class="inline"/>&thinsp;<a href="https://www.codefactor.io/repository/github/rikyoz/bit7z" alt="Codefactor Grade"><img src="https://img.shields.io/codefactor/grade/github/rikyoz/bit7z?label=Code%20Quality&amp;logo=codefactor&amp;logoColor=white" alt="CodeFactor Grade" class="inline"/></a>&thinsp;<a href="https://github.com/rikyoz/bit7z/blob/master/LICENSE" title="Project License: MPLv2"><img src="https://img.shields.io/badge/-MPL--2.0-lightgrey.svg?style=flat&amp;logo=mozilla" alt="License" style="pointer-events: none;" class="inline"/></a> </div><h1><a class="anchor" id="autotoc_md1"></a>
⚡️ Introduction</h1>
<p><b><a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a></b> is a <em>cross-platform</em> C++ static library that allows the <em>compression/extraction of archive files</em> through a <em>clean</em> and <em>simple</em> wrapper interface to the dynamic libraries from the <a href="https://www.7-zip.org/" title="7-Zip Project Homepage">7-Zip</a> project.<br  />
 It supports compression and extraction to and from the filesystem or the memory, reading archives metadata, updating existing ones, creating multi-volume archives, operation progress callbacks, and many other functionalities.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
🎯 Supported Features</h1>
<ul>
<li><b>Compression</b> using the following archive formats: <b>7z</b>, XZ, <b>BZIP2</b>, <b>GZIP</b>, TAR, <b>ZIP</b>, and WIM.</li>
<li><b>Extraction</b> of many archive formats: <b>7z</b>, AR, ARJ, <b>BZIP2</b>, CAB, CHM, CPIO, CramFS, DEB, DMG, EXT, FAT, GPT, <b>GZIP</b>, HFS, HXS, IHEX, ISO, LZH, LZMA, MBR, MSI, NSIS, NTFS, QCOW2, <b>RAR</b>, <b>RAR5</b>, RPM, SquashFS, TAR, UDF, UEFI, VDI, VHD, VMDK, WIM, XAR, XZ, Z, and <b>ZIP</b>.</li>
<li><b>Reading metadata</b> of archives and their content.</li>
<li><b>Testing</b> archives for errors.</li>
<li><b>Updating</b> existing file archives with new files.</li>
<li><b>Renaming</b>, <b>updating</b>, or <b>deleting</b> old items in existing file archives.</li>
<li><b>Compression and extraction <em>to and from</em> memory</b> and <b>C++ standard streams</b>.</li>
<li>Compression using <b>custom path aliases</b> for the items in the output archives.</li>
<li><b>Selective extraction</b> of only specified files/folders <b>using wildcards</b> and <b>regular expressions</b>.</li>
<li>Creation of <b>encrypted archives</b> (strong AES-256 encryption; only for 7z and ZIP formats).</li>
<li><b>Archive header encryption</b> (only for 7z format).</li>
<li>Possibility to choose the <b>compression level</b> (if supported by the archive format), the <b>compression method</b> (<a href="https://github.com/rikyoz/bit7z/wiki/Advanced-Usage#compression-methods" title="Wiki page on bit7z&apos;s supported compression methods">supported methods</a>), the <b>dictionary size</b>, and the <b>word size</b>.</li>
<li><b>Automatic input archive format detection</b>.</li>
<li><b>Solid archives</b> (only for 7z).</li>
<li><b>Multi-volume archives</b>.</li>
<li><b>Operation callbacks</b> for obtaining real-time information about ongoing operations.</li>
<li><b>Canceling</b> or <b>pausing</b> the current operation.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><br  />
 The presence or not of some of the above features depends on the specific 7-Zip shared library used. <br  />
<br  />
 For example, 7z.dll should support all these features, 7za.dll should work only with the 7z file format, and 7zxa.dll can only extract 7z files. <br  />
<br  />
 For more information about the 7-Zip DLLs, please check this <a href="https://github.com/rikyoz/bit7z/wiki/7z-DLLs">wiki page</a>.</dd>
<dd>
<br  />
 Some features (e.g., <em>automatic format detection</em> and <em>selective extraction using regular expressions</em>) are disabled by default, and macro definitions must be used during compilation to have them available (<a href="https://github.com/rikyoz/bit7z/wiki/Building-the-library">wiki</a>).</dd></dl>
<h1><a class="anchor" id="autotoc_md3"></a>
🔥 Getting Started (Library Usage)</h1>
<p>Below are a few examples that show how to use some of the main features of <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a>.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
📂 Extracting Files from an Archive</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;bit7z/bitfileextractor.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> { <span class="comment">// bit7z classes can throw BitException objects</span></div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacebit7z.html">bit7z</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit7z_library.html">Bit7zLibrary</a> lib{ <span class="stringliteral">&quot;7za.dll&quot;</span> };</div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_extractor.html">BitFileExtractor</a> extractor{ lib, BitFormat::SevenZip };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extracting a simple archive</span></div>
<div class="line">    extractor.<a class="code hl_function" href="classbit7z_1_1_bit_extractor.html#ac30ec59a27faa038021877e333fcab16">extract</a>( <span class="stringliteral">&quot;path/to/archive.7z&quot;</span>, <span class="stringliteral">&quot;out/dir/&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extracting a specific file inside an archive</span></div>
<div class="line">    extractor.extractMatching( <span class="stringliteral">&quot;path/to/archive.7z&quot;</span>, <span class="stringliteral">&quot;file.pdf&quot;</span>, <span class="stringliteral">&quot;out/dir/&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extracting the first file of an archive to a buffer</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt; byte_t &gt;</a> buffer;</div>
<div class="line">    extractor.extract( <span class="stringliteral">&quot;path/to/archive.7z&quot;</span>, buffer );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extracting an encrypted archive</span></div>
<div class="line">    extractor.setPassword( <span class="stringliteral">&quot;password&quot;</span> );</div>
<div class="line">    extractor.extract( <span class="stringliteral">&quot;path/to/another/archive.7z&quot;</span>, <span class="stringliteral">&quot;out/dir/&quot;</span> );</div>
<div class="line">} <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a>&amp; ex ) { <span class="comment">/* Do something with ex.what()...*/</span> }</div>
<div class="ttc" id="aclassbit7z_1_1_bit7z_library_html"><div class="ttname"><a href="classbit7z_1_1_bit7z_library.html">bit7z::Bit7zLibrary</a></div><div class="ttdoc">The Bit7zLibrary class allows accessing the basic functionalities provided by the 7z DLLs.</div><div class="ttdef"><b>Definition</b> bit7zlibrary.hpp:56</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_exception_html"><div class="ttname"><a href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a></div><div class="ttdoc">The BitException class represents a generic exception thrown from the bit7z classes.</div><div class="ttdef"><b>Definition</b> bitexception.hpp:32</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_extractor_html"><div class="ttname"><a href="classbit7z_1_1_bit_extractor.html">bit7z::BitExtractor</a></div><div class="ttdoc">The BitExtractor template class allows extracting the content of archives from supported input types.</div><div class="ttdef"><b>Definition</b> bitextractor.hpp:34</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_extractor_html_ac30ec59a27faa038021877e333fcab16"><div class="ttname"><a href="classbit7z_1_1_bit_extractor.html#ac30ec59a27faa038021877e333fcab16">bit7z::BitExtractor::extract</a></div><div class="ttdeci">void extract(Input inArchive, const tstring &amp;outDir={}) const</div><div class="ttdoc">Extracts the given archive to the chosen directory.</div><div class="ttdef"><b>Definition</b> bitextractor.hpp:60</div></div>
<div class="ttc" id="anamespacebit7z_html"><div class="ttname"><a href="namespacebit7z.html">bit7z</a></div><div class="ttdoc">The main namespace of the bit7z library.</div><div class="ttdef"><b>Definition</b> bit7zlibrary.hpp:30</div></div>
<div class="ttc" id="avector_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a></div></div>
</div><!-- fragment --><p>Alternatively, if you only need to work on a single archive:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;bit7z/bitarchivereader.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> { <span class="comment">// bit7z classes can throw BitException objects</span></div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacebit7z.html">bit7z</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit7z_library.html">Bit7zLibrary</a> lib{ <span class="stringliteral">&quot;7z.dll&quot;</span> };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Opening the archive</span></div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_archive_reader.html">BitArchiveReader</a> archive{ lib, <span class="stringliteral">&quot;path/to/archive.gz&quot;</span>, BitFormat::GZip };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Testing the archive</span></div>
<div class="line">    archive.<a class="code hl_function" href="classbit7z_1_1_bit_input_archive.html#a1a0bbdfe89178fbbb06902ca31c0cf03">test</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extracting the archive</span></div>
<div class="line">    archive.extractTo( <span class="stringliteral">&quot;out/dir/&quot;</span> );</div>
<div class="line">} <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a>&amp; ex ) { <span class="comment">/* Do something with ex.what()...*/</span> }</div>
<div class="ttc" id="aclassbit7z_1_1_bit_archive_reader_html"><div class="ttname"><a href="classbit7z_1_1_bit_archive_reader.html">bit7z::BitArchiveReader</a></div><div class="ttdoc">The BitArchiveReader class allows reading metadata of archives, as well as extracting them.</div><div class="ttdef"><b>Definition</b> bitarchivereader.hpp:27</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_input_archive_html_a1a0bbdfe89178fbbb06902ca31c0cf03"><div class="ttname"><a href="classbit7z_1_1_bit_input_archive.html#a1a0bbdfe89178fbbb06902ca31c0cf03">bit7z::BitInputArchive::test</a></div><div class="ttdeci">void test() const</div><div class="ttdoc">Tests the archive without extracting its content.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
💼 Compressing Files into an Archive</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;bit7z/bitfilecompressor.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> { <span class="comment">// bit7z classes can throw BitException objects</span></div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacebit7z.html">bit7z</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit7z_library.html">Bit7zLibrary</a> lib{ <span class="stringliteral">&quot;7z.dll&quot;</span> };</div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_file_compressor.html">BitFileCompressor</a> compressor{ lib, BitFormat::Zip };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt; std::string &gt;</a> files = { <span class="stringliteral">&quot;path/to/file1.jpg&quot;</span>, <span class="stringliteral">&quot;path/to/file2.pdf&quot;</span> };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creating a simple zip archive</span></div>
<div class="line">    compressor.compress( files, <span class="stringliteral">&quot;output_archive.zip&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creating a zip archive with a custom directory structure</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/map.html">std::map&lt; std::string, std::string &gt;</a> files_map = {</div>
<div class="line">        { <span class="stringliteral">&quot;path/to/file1.jpg&quot;</span>, <span class="stringliteral">&quot;alias/path/file1.jpg&quot;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;path/to/file2.pdf&quot;</span>, <span class="stringliteral">&quot;alias/path/file2.pdf&quot;</span> }</div>
<div class="line">    };</div>
<div class="line">    compressor.compress( files_map, <span class="stringliteral">&quot;output_archive2.zip&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Compressing a directory</span></div>
<div class="line">    compressor.compressDirectory( <span class="stringliteral">&quot;dir/path/&quot;</span>, <span class="stringliteral">&quot;dir_archive.zip&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creating an encrypted zip archive of two files</span></div>
<div class="line">    compressor.setPassword( <span class="stringliteral">&quot;password&quot;</span> );</div>
<div class="line">    compressor.compressFiles( files, <span class="stringliteral">&quot;protected_archive.zip&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Updating an existing zip archive</span></div>
<div class="line">    compressor.setUpdateMode( UpdateMode::Append );</div>
<div class="line">    compressor.compressFiles( files, <span class="stringliteral">&quot;existing_archive.zip&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Compressing a single file into a buffer</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt; bit7z::byte_t &gt;</a> buffer;</div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_file_compressor.html">BitFileCompressor</a> compressor2{ lib, BitFormat::BZip2 };</div>
<div class="line">    compressor2.<a class="code hl_function" href="classbit7z_1_1_bit_compressor.html#a5e84655151f968521e884c9997197757">compressFile</a>( files[0], buffer );</div>
<div class="line">} <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a>&amp; ex ) { <span class="comment">/* Do something with ex.what()...*/</span> }</div>
<div class="ttc" id="aclassbit7z_1_1_bit_compressor_html_a5e84655151f968521e884c9997197757"><div class="ttname"><a href="classbit7z_1_1_bit_compressor.html#a5e84655151f968521e884c9997197757">bit7z::BitCompressor::compressFile</a></div><div class="ttdeci">void compressFile(Input inFile, const tstring &amp;outFile, const tstring &amp;inputName={}) const</div><div class="ttdoc">Compresses a single file.</div><div class="ttdef"><b>Definition</b> bitcompressor.hpp:67</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_file_compressor_html"><div class="ttname"><a href="classbit7z_1_1_bit_file_compressor.html">bit7z::BitFileCompressor</a></div><div class="ttdoc">The BitFileCompressor class allows compressing files and directories.</div><div class="ttdef"><b>Definition</b> bitfilecompressor.hpp:34</div></div>
<div class="ttc" id="amap_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/container/map.html">std::map</a></div></div>
</div><!-- fragment --><p>Alternatively, if you only need to work on a single archive:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;bit7z/bitarchivewriter.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> { <span class="comment">// bit7z classes can throw BitException objects</span></div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacebit7z.html">bit7z</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit7z_library.html">Bit7zLibrary</a> lib{ <span class="stringliteral">&quot;7z.dll&quot;</span> };</div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_archive_writer.html">BitArchiveWriter</a> archive{ lib, BitFormat::SevenZip };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Adding the items to be compressed (no compression is performed here)</span></div>
<div class="line">    archive.<a class="code hl_function" href="classbit7z_1_1_bit_output_archive.html#a8c455cbaf9516021c02ce920dac7f946">addFile</a>( <span class="stringliteral">&quot;path/to/file.txt&quot;</span> );</div>
<div class="line">    archive.addDirectory( <span class="stringliteral">&quot;path/to/dir/&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Compressing the added items to the output archive</span></div>
<div class="line">    archive.compressTo( <span class="stringliteral">&quot;output.7z&quot;</span> );</div>
<div class="line">} <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a>&amp; ex ) { <span class="comment">/* Do something with ex.what()...*/</span> }</div>
<div class="ttc" id="aclassbit7z_1_1_bit_archive_writer_html"><div class="ttname"><a href="classbit7z_1_1_bit_archive_writer.html">bit7z::BitArchiveWriter</a></div><div class="ttdoc">The BitArchiveWriter class allows creating new archives or updating old ones with new items.</div><div class="ttdef"><b>Definition</b> bitarchivewriter.hpp:20</div></div>
<div class="ttc" id="aclassbit7z_1_1_bit_output_archive_html_a8c455cbaf9516021c02ce920dac7f946"><div class="ttname"><a href="classbit7z_1_1_bit_output_archive.html#a8c455cbaf9516021c02ce920dac7f946">bit7z::BitOutputArchive::addFile</a></div><div class="ttdeci">void addFile(const tstring &amp;inFile, const tstring &amp;name={})</div><div class="ttdoc">Adds the given file path, with an optional user-defined path to be used in the output archive.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
📑 Reading Archive Metadata</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;bit7z/bitarchivereader.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> { <span class="comment">// bit7z classes can throw BitException objects</span></div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacebit7z.html">bit7z</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit7z_library.html">Bit7zLibrary</a> lib{ <span class="stringliteral">&quot;7za.dll&quot;</span> };</div>
<div class="line">    <a class="code hl_class" href="classbit7z_1_1_bit_archive_reader.html">BitArchiveReader</a> arc{ lib, <span class="stringliteral">&quot;archive.7z&quot;</span>, BitFormat::SevenZip };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Printing archive metadata</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Archive properties\n&quot;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Items count: &quot;</span>   &lt;&lt; arc.itemsCount() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Folders count: &quot;</span> &lt;&lt; arc.foldersCount() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Files count: &quot;</span>   &lt;&lt; arc.filesCount() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Size: &quot;</span>          &lt;&lt; arc.size() &lt;&lt;<span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Packed size: &quot;</span>   &lt;&lt; arc.packSize() &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Printing the metadata of the archived items</span></div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Archived items&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; item : arc ) {</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;  Item index: &quot;</span>    &lt;&lt; item.index() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    Name: &quot;</span>        &lt;&lt; item.name() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    Extension: &quot;</span>   &lt;&lt; item.extension() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    Path: &quot;</span>        &lt;&lt; item.path() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    IsDir: &quot;</span>       &lt;&lt; item.isDir() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    Size: &quot;</span>        &lt;&lt; item.size() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    Packed size: &quot;</span> &lt;&lt; item.packSize() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;    CRC: &quot;</span> &lt;&lt; std::hex &lt;&lt; item.crc() &lt;&lt; std::dec &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a>.flush();</div>
<div class="line">} <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classbit7z_1_1_bit_exception.html">bit7z::BitException</a>&amp; ex ) { <span class="comment">/* Do something with ex.what()...*/</span> }</div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
</div><!-- fragment --><p>A complete <em><b>API reference</b></em> is available in the <a href="https://github.com/rikyoz/bit7z/wiki/">wiki</a> section.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
🚀 Upgrading from bit7z v3 to v4</h2>
<p>The newest <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> v4 introduced some significant breaking changes to the library's API.</p>
<details >
<summary >
Expand for more details!</summary>
<p></p>
<ul>
<li>By default, the project now follows the <a href="http://utf8everywhere.org/">UTF-8 Everywhere Manifesto</a>:<ul>
<li>The default string type is <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code> (instead of <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::wstring</a></code>), so users can use the library in cross-platform projects more easily (v4 introduced Linux/macOS support too).</li>
<li>Input <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s will be considered as UTF-8 encoded.</li>
<li>You can still achieve the old behavior on Windows using the <code>-DBIT7Z_USE_NATIVE_STRING</code> CMake option.</li>
</ul>
</li>
<li>The old <code>BitExtractor</code> class is now called <code>BitFileExtractor</code>.<ul>
<li>Now <code>BitExtractor</code> is just the name of a template class for all the extraction classes.</li>
</ul>
</li>
<li>The old <code>BitCompressor</code> class is now called <code>BitFileCompressor</code>.<ul>
<li>Now <code>BitCompressor</code> is just the name of a template class for all the compression classes.</li>
</ul>
</li>
<li>The old <code>BitArchiveInfo</code> class is now called <code>BitArchiveReader</code>, and it allows to extract single archives.</li>
<li>The <code>ProgressCallback</code> now must return a <code>bool</code> value indicating whether the current operation can continue (<code>true</code>) or not (<code>false</code>).</li>
<li>The <code>BitException</code> class now inherits from <code><a class="elRef" href="http://en.cppreference.com/w/cpp/error/system_error.html">std::system_error</a></code> rather than <code><a class="elRef" href="http://en.cppreference.com/w/cpp/error/runtime_error.html">std::runtime_error</a></code>.<ul>
<li>The method <code>BitException::getErrorCode()</code> was renamed <code>BitException::hresultCode()</code>.</li>
</ul>
</li>
<li>The project structure changed:<ul>
<li>Public API headers moved from <code>include/</code> to the <code>include/bit7z/</code> folder, so <code>#include</code> directives now need to prepend <code>bit7z/</code> to the included header name (e.g., <code>#include &lt;<a class="el" href="bitfileextractor_8hpp_source.html">bit7z/bitfileextractor.hpp</a>&gt;</code>).<ul>
<li>Even though it is a bit verbose, it is a typical structure for C and C++ libraries, and it makes explicit which third-party library a header file belongs to.</li>
</ul>
</li>
<li>By default, the output folder of <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> is now <code>lib/&lt;architecture&gt;/</code>; if the CMake generator is multi-config (e.g., Visual Studio generators), the default output folder is <code>lib/&lt;architecture&gt;/&lt;build type&gt;/</code>.<ul>
<li>Optionally, you can force using the "Visual Studio style" output path by enabling the <code>BIT7Z_VS_LIBNAME_OUTDIR_STYLE</code> CMake option.</li>
</ul>
</li>
<li>Third-party dependencies are no longer handled using git submodules but are automatically downloaded using <a href="https://github.com/cpm-cmake/CPM.cmake">CPM.cmake</a> when configuring/using the library via CMake.</li>
</ul>
</li>
</ul>
<p></p>
</details>
<h1><a class="anchor" id="autotoc_md8"></a>
💾 Download</h1>
<div align="center"> <a href="https://github.com/rikyoz/bit7z/releases"><img src="https://img.shields.io/github/v/release/rikyoz/bit7z?sort=semver&amp;label=Latest%20Release&amp;style=social" alt="GitHub Latest Release" height="36" style="border:0;height:36px;" class="inline"/></a> <br  />
 <a href="https://github.com/rikyoz/bit7z/releases"><img src="https://img.shields.io/github/downloads/rikyoz/bit7z/total.svg?style=popout&amp;label=Total%20Downloads&amp;logo=icloud&amp;logoColor=white" alt="GitHub All Releases" style="pointer-events: none;" class="inline"/></a> </div><p>Each released package contains:</p>
<ul>
<li>A <em>pre-compiled version</em> of <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> (both in <em>debug</em> and <em>release</em> mode);</li>
<li>The <em>public API headers</em> needed to use the library in your program;</li>
</ul>
<p>Packages are available for both <em>x86</em> and <em>x64</em> architectures.</p>
<p>You can also clone/download this repository and build the library yourself (please, read the <a href="https://github.com/rikyoz/bit7z/wiki/Building-the-library">wiki</a>).</p>
<h1><a class="anchor" id="autotoc_md9"></a>
🧰 Requirements</h1>
<ul>
<li><b>Operating System:</b> Windows, Linux, macOS, Android.</li>
<li><b>Architecture:</b> x86, x86_64, arm, arm64.</li>
<li><b>Language Standard:</b> C++11 (for using the library), C++14 (for building the library).</li>
<li><b>Compiler:</b> MSVC 2015 or later[^1], MinGW v6.4 or later, GCC v4.9 or later, Clang 3.6 or later.</li>
<li><b>Shared Library:</b> a 7-Zip <code>.dll</code> library on Windows, a 7-Zip/p7zip <code>.so</code> library on Unix.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><br  />
<ul>
<li><b>RAR Archive Support:</b> The library supports RAR archives <em>only</em> when using 7-Zip's <code>7z.dll</code>/<code>7z.so</code>. It doesn't support p7zip's unrar plugin. For RAR extraction on Unix-based systems, you need to build the 7-Zip <code>7z.so</code> library.</li>
<li><b>7-Zip Libraries:</b> Bit7z does <b>not</b> ship with the 7-Zip shared libraries. You can download the precompiled binaries or build them from the source at <a href="https://www.7-zip.org/">7-zip.org</a>.</li>
</ul>
</dd></dl>
<p>[^1]: MSVC 2010 was supported until v2.x, MSVC 2012/2013 until v3.x.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
🔗 Installation</h1>
<p>The library can be installed as a dependency of your project in a number of different ways:</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Using CMake's <code>add_subdirectory</code></h2>
<p>You can directly integrate the library into your CMake project:</p>
<ul>
<li>Either download <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a>'s sources to a sub-directory of your project (e.g., <code>third_party</code>), or add this repository as a git submodule of yours.</li>
<li>Then, use the command <code>add_subdirectory()</code> in your <code>CMakeLists.txt</code> to include <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a>.</li>
<li>Finally, link the <code><a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a></code> library using the <code>target_link_libraries()</code> command.</li>
</ul>
<p>For example:</p>
<div class="fragment"><div class="line">add_subdirectory(${CMAKE_SOURCE_DIR}/third_party/bit7z) # Path to bit7z&#39;s repository</div>
<div class="line"># Here you can enable/disable bit7z&#39;s build options, e.g.:</div>
<div class="line"># set(BIT7Z_USE_NATIVE_STRING ON CACHE BOOL &quot;enable using native OS strings&quot; FORCE)</div>
<div class="line">target_link_libraries(${YOUR_TARGET} PRIVATE bit7z)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Using <a href="https://github.com/cpm-cmake/CPM.cmake">CPM.cmake</a></h2>
<div class="fragment"><div class="line">CPMAddPackage(&quot;gh:rikyoz/bit7z@&lt;version&gt;&quot;) # Replace &lt;version&gt; with the desired one.</div>
<div class="line"># Here you can enable/disable bit7z&#39;s build options, e.g.:</div>
<div class="line"># set(BIT7Z_AUTO_FORMAT ON CACHE BOOL &quot;enable auto format support&quot; FORCE)</div>
<div class="line">target_link_libraries(${YOUR_TARGET} PRIVATE bit7z)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Using <a href="https://vcpkg.io/en/">vcpkg</a></h2>
<p>First, you need to install the library:</p>
<div class="fragment"><div class="line">vcpkg install bit7z</div>
</div><!-- fragment --><p>Then, you add <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> as a dependency in your project's <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">find_package(unofficial-bit7z CONFIG REQUIRED)</div>
<div class="line">target_link_libraries(${YOUR_TARGET} PRIVATE unofficial::bit7z::bit7z64)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
Building from source and manually linking</h2>
<p>The wiki provides instructions on how to <a href="https://github.com/rikyoz/bit7z/wiki/Building-the-library">build</a> the library from the source code and <a href="https://github.com/rikyoz/bit7z/wiki/Installing-the-library#manually-linking">manually link</a> it into your project.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
🛠️ Configuration</h1>
<p>The library is highly customizable: for a detailed list of the available build options, please refer to the <a href="https://github.com/rikyoz/bit7z/wiki/Build-options">wiki</a>.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
📌 7-Zip Version</h2>
<p>While configuring <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> via CMake, it automatically downloads the latest version of 7-Zip supported by the library.</p>
<p>Optionally, you can specify a different version of 7-Zip via the CMake option <code>BIT7Z_7ZIP_VERSION</code> (e.g., <code>-DBIT7Z_7ZIP_VERSION="22.01"</code>).</p>
<p>Alternatively, you can specify a custom path containing the 7-Zip source code via the option <code>BIT7Z_CUSTOM_7ZIP_PATH</code>.</p>
<dl class="section note"><dt>Note</dt><dd><br  />
 In general, it is best to use the same version of 7-Zip of the shared libraries that you will use at runtime. <br  />
<br  />
</dd></dl>
<h3><a class="anchor" id="autotoc_md17"></a>
Using 7-Zip v23.01 on Linux and macOS</h3>
<p>By default, <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> is compatible with the <code>7z.so</code> from 7-Zip v23.01 and later.</p>
<p>If you plan to use the <code>7z.so</code> from p7zip or 7-Zip v22.01 and earlier instead, you have two ways to make <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> compatible:</p>
<ul>
<li>Configure <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> with the CMake option <code>-DBIT7Z_USE_LEGACY_IUNKNOWN=ON</code>; <em>or</em></li>
<li>Configure <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> for 7-Zip v22.01 (i.e., <code>-DBIT7Z_7ZIP_VERSION="22.01"</code>).</li>
</ul>
<details >
<summary >
Expand for more details</summary>
<p><em>On Linux and macOS</em>, 7-Zip v23.01 introduced breaking changes to the IUnknown interface. As a result, if you build <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> for such a version of 7-Zip (the default), it will not support using the shared libraries from previous versions of 7-Zip (or from p7zip). Conversely, <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> made for earlier versions of 7-Zip or for p7zip is incompatible with the shared libraries from 7-Zip v23.01 and later.</p>
<p>You can build the shared libraries of 7-Zip v23.01 in a backward-compatible mode by defining the macro <code>Z7_USE_VIRTUAL_DESTRUCTOR_IN_IUNKNOWN</code>. If this is your case, you'll need to enable the <code>BIT7Z_USE_LEGACY_IUNKNOWN</code> to make <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> work (in this case, <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> will be compatible also with previous versions of 7-Zip/p7zip).</p>
<p></p>
</details>
<h2><a class="anchor" id="autotoc_md18"></a>
🗺️ String Encoding</h2>
<p>By default, <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> follows the <a href="http://utf8everywhere.org/">UTF-8 Everywhere Manifesto</a> to simplify the use of the library within cross-platform projects. In short, this means that:</p>
<ul>
<li>The default path string type is <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>.</li>
<li>Input <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s are considered as UTF-8 encoded; output <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s are UTF-8 encoded.</li>
</ul>
<details >
<summary >
Expand for more details and for other string encoding options!</summary>
<p></p>
<p>On POSIX systems, <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s are usually already UTF-8 encoded, and no configuration is needed.</p>
<p>The situation is a bit more complex on Windows since, by default, Windows treats <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s as encoded using the system code page, which may not necessarily be UTF-8, like, for example, <a href="https://en.wikipedia.org/wiki/Windows-1252">Windows-1252</a>.</p>
<p>If your program deals exclusively with ASCII-only strings, you should be fine with the default <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> settings (as ASCII characters are also UTF-8).</p>
<p>However, if you need to handle non-ASCII/Unicode characters, as it is likely, you have the following options:</p>
<ul>
<li>Enforcing using the UTF-8 code page for your whole application, as explained by Microsoft <a href="https://learn.microsoft.com/en-us/windows/apps/design/globalizing/use-utf8-code-page">here</a>:<ul>
<li><em><b>Recommended</b></em>, but supported only since Windows 10 1903 and later.</li>
</ul>
</li>
<li>Manually ensuring the encoding of the <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code>s passed to <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a>:<ul>
<li>You can use some string encoding library or C++11's UTF-8 string literals for input strings.</li>
<li>User-input strings (e.g., the password of an archive) can be handled as explained <a href="https://nullprogram.com/blog/2020/05/04/">here</a>; in short: read the input as an UTF-16 wide string (e.g., via <code>ReadConsoleW</code>), and convert it to UTF-8 (<a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> provides a utility function for this, <code>bit7z::to_tstring</code>).</li>
<li>You can correctly print the UTF-8 output strings from <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> (e.g., the path/name metadata of a file in an archive) to the console by calling <a href="https://learn.microsoft.com/en-us/windows/console/setconsoleoutputcp"><code>SetConsoleOutputCP(CP_UTF8)</code></a> before.</li>
</ul>
</li>
<li>Configuring <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> to use UTF-16 encoded wide strings (i.e., <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::wstring</a></code>) by enabling the <code>BIT7Z_USE_NATIVE_STRING</code> option via CMake.<ul>
<li>If your program is Windows-only, or you already use wide strings on Windows, this might be the best choice since it will avoid any internal string conversions (7-Zip always uses wide strings).</li>
<li>This option makes developing cross-platform applications slightly inconvenient since you'll still have to use <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code> on POSIX systems.</li>
<li>The library provides a type alias <code><a class="el" href="namespacebit7z.html#a90a8cdb376852f80720be6f88f749e1a">bit7z::tstring</a></code> and a macro function <code>BIT7Z_STRING</code> for defining wide string variables and literals on Windows and narrow ones on other platforms.</li>
<li><p class="startli">You must programmatically set the standard input and output encoding to UTF-16 to correctly read and print Unicode characters:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span> <span class="comment">//for _O_U16TEXT</span></div>
<div class="line"><span class="preprocessor">#include &lt;io.h&gt;</span>  <span class="comment">//for _setmode</span></div>
<div class="line"> </div>
<div class="line">_setmode(_fileno(stdout), _O_U16TEXT); <span class="comment">// setting the stdout encoding to UTF16</span></div>
<div class="line">_setmode(_fileno(stdin), _O_U16TEXT); <span class="comment">// setting the stdin encoding to UTF16</span></div>
</div><!-- fragment --></li>
</ul>
</li>
<li>Configuring <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> to use the system code page encoding for <code><a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></code> by enabling the <code>BIT7Z_USE_SYSTEM_CODEPAGE</code> option via CMake.<ul>
<li><em>Not recommended</em>: using this option, your program will be limited in the set of characters it can pass to and read from <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a>.</li>
</ul>
</li>
</ul>
<p></p>
</details>
<h1><a class="anchor" id="autotoc_md19"></a>
☕️ Donate</h1>
<p>If you have found this project helpful, please consider supporting me with a small donation so that I can keep improving it! Thank you! :pray:</p>
<div align="center"> <a href="https://github.com/sponsors/rikyoz" target="_blank" title="Support the Maintainer via GitHub Sponsors"><img src="https://img.shields.io/badge/-Sponsor%20the%20Maintainer-fafbfc?logo=GitHub%20Sponsors" alt="Sponsor me on GitHub" height="24" style="border:0px;height:24px;" border="0" class="inline"/></a>&thinsp;<a href="https://ko-fi.com/G2G1LS1P" target="_blank" title="Support this project via Ko-Fi"><img src="https://img.shields.io/badge/-Buy%20Me%20a%20Coffee-red?logo=ko-fi&amp;logoColor=white" alt="Buy Me a Coffee at ko-fi.com" height="24" style="border:0px;height:24px;" border="0" class="inline"/></a>&thinsp;<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=NTZF5G7LRXDRC" title="Support this project via PayPal"><img src="https://img.shields.io/badge/-Donate%20on%20PayPal-yellow.svg?logo=paypal&amp;logoColor=white" alt="Donations" style="pointer-events: none; border:0px;height:24px;" height="24" class="inline"/></a> </div><h1><a class="anchor" id="autotoc_md20"></a>
📜 License</h1>
<p>This project is licensed under the terms of the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License v2.0</a>.<br  />
 For more details, please check:</p>
<ul>
<li>The <a href="./LICENSE">LICENSE</a> file.</li>
<li><a href="https://www.mozilla.org/en-US/MPL/2.0/FAQ/">Mozilla's MPL-2.0 FAQ</a></li>
</ul>
<p>Older versions (v3.x and earlier) of <a class="el" href="namespacebit7z.html" title="The main namespace of the bit7z library.">bit7z</a> were released under the <a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html">GNU General Public License v2</a>.</p>
<p><br  />
 </p><div align="center"> Copyright &copy; 2014 - 2024 Riccardo Ostani (<a href="https://github.com/rikyoz">@rikyoz</a>) </div><p> <br  />
 </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
